---
title: "{{< var course.short >}} - Slides"
editor: 
  markdown: 
    wrap: 80
---

This site hosts the following slides: 

```{r}
#| results: 'asis'
#| echo: false
library(rmarkdown)
library(glue)
library(purrr)
library(stringr)
SLIDE_FILES <- list.files("slides", 
                          pattern="*qmd$",
                          full.names = TRUE, 
                          recursive = TRUE, 
                          include.dirs = FALSE)

build_md_link <- function(file){
  header_info <- rmarkdown::yaml_front_matter(file)
  topic <- header_info[["topic"]]
  if(is.null(topic)){
      return(NULL)
  } else {
      html <- file |> 
          str_replace("slides/", "./") |>
          str_replace("qmd", "html")
      glue("- [{topic}](./slides/{html}){{target='_blank'}}\n")
  }
}

map(SLIDE_FILES, build_md_link) |> 
    discard(is.null) |> 
    list_c() |>
    sort() |>
    walk(cat, sep="\n")
```

More will be added later. 
